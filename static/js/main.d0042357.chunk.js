(this["webpackJsonpreact-gallery-app"]=this["webpackJsonpreact-gallery-app"]||[]).push([[0],{33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),o=a.n(c),l=(a(38),a(11)),s=a(12),i=a(14),h=a(13),u=a(8),m=a(15),p=(a(39),a(30)),d=a.n(p),f=function(){return r.a.createElement("div",{className:"main-header"},r.a.createElement("h1",null,"React Photo Gallery"),r.a.createElement("p",null,"Search Flickr for photos"),r.a.createElement("br",null))},E=a(7),b=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(h.a)(t).call(this))).state={searchText:""},e.onSearchChange=function(t){e.setState({searchText:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a=e.query.value,n="/search/".concat(a);e.props.onSearch(a),e.props.history.push(n),t.currentTarget.reset()},e.onSearchChange=e.onSearchChange.bind(Object(u.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"search-form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"search",name:"search",placeholder:"Search...",onChange:this.onSearchChange,ref:function(t){return e.query=t},required:!0}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement("svg",{fill:"#fff",height:"24",viewBox:"0 0 23 23",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))))}}]),t}(n.Component),g=Object(E.f)(b),v=a(6),S=function(e){return r.a.createElement("nav",{className:"main-nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(v.b,{onClick:function(){return r.a.createElement(g,{onSearch:e.search("rainbows")})},to:{pathname:"/search/rainbows"}},"Rainbows")),r.a.createElement("li",null,r.a.createElement(v.b,{onClick:function(){return r.a.createElement(g,{onSearch:e.search("space")})},to:{pathname:"/search/space"}},"Space")),r.a.createElement("li",null,r.a.createElement(v.b,{onClick:function(){return r.a.createElement(g,{onSearch:e.search("boats")})},to:{pathname:"/search/boats"}},"Boats")),r.a.createElement("li",null,r.a.createElement(v.b,{onClick:function(){return r.a.createElement(g,{onSearch:e.search("cameras")})},to:{pathname:"/search/cameras"}},"Cameras"))))},y=function(e){return r.a.createElement("li",null,r.a.createElement("img",{className:"photo",src:"https://farm".concat(e.farm_id,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg"),alt:""}))},w=function(){return r.a.createElement("li",{className:"not-found"},r.a.createElement("h3",null,"No Results Found"),r.a.createElement("p",null,"You search did not return any results. Please try again."))},k=function(e){var t,a=e.data,n=e.title;return a.length>0?t=a.map((function(e){return r.a.createElement(y,{id:e.id,key:e.id.toString()+1,server:e.server,secret:e.secret,farm_id:e.farm})})):(n="Sorry dawg",t=r.a.createElement(w,null)),r.a.createElement("div",{className:"photo-container"},r.a.createElement("h2",{className:"results-title"},n),r.a.createElement("ul",null,t))},j="27b238609287dd59c24700b9ec153d44",C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(h.a)(t).call(this))).searchPhotos=function(t){e.setState({loading:!0}),d.a.get("https://api.flickr.com/services/rest/?method=flickr.photos.search&tags=".concat(t,"&api_key=").concat(j,"&per_page=24&format=json&nojsoncallback=1")).then((function(a){e.setState({photos:a.data.photos.photo,loading:!1,query:t})})).catch((function(e){console.log("Error fetching and parsing data",e)}))},e.searchPhotos=e.searchPhotos.bind(Object(u.a)(e)),e.state={photos:[],loading:!0,query:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.searchPhotos(this.state.query||"rainbows")}},{key:"render",value:function(){return r.a.createElement("div",{className:"Container"},r.a.createElement(f,null),r.a.createElement(g,{onSearch:this.searchPhotos}),r.a.createElement(S,{search:this.searchPhotos}),this.state.loading?r.a.createElement("p",null,"Loading..."):r.a.createElement(k,{data:this.state.photos,title:this.state.query}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement("h2",null,"Page Not Found"),r.a.createElement("p",null,"The page you requested does not exist."))};o.a.render(r.a.createElement(v.a,null,r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",component:C}),r.a.createElement(E.a,{path:"/search/:results",component:C}),r.a.createElement(E.a,{component:O}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.d0042357.chunk.js.map